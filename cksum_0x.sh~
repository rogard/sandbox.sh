# !/bin/bash

help()
{
   echo "Convert basename to the cp-cksum-trash of its content."
   echo
   echo "Syntax: cksum_0x.sh [-h|--help] [--trash [true|false]] directory pattern "
   echo "options:"
   echo "h     Print this Help."
   echo "stdout:"
   echo path found
   echo
}

working_copy="../INBOX"

error_exit()
{
    echo "Sortie Ã  cause de: $1"
    exit 1
}

# https://stackoverflow.com/a/14203146/9243116
POSITIONAL_ARGS=()
BACKUP=1
while [[ $# -gt 0 ]]; do
    case $1 in
        -h|--help)
            help
            exit 0
            ;;
        --mv)
            MOVE='YES'
            shift # past argument
            ;;
        --backup)
            BACKUP=$2   
        -*|--*)
            echo "Unknown option $1"
            exit 1
            ;;
        *)
            POSITIONAL_ARGS+=("$1") # save positional arg
            shift # past argument
            ;;
    esac
done
set -- "${POSITIONAL_ARGS[@]}"

echo $(cat "$1" | cksum | awk 'BEGIN{FS=" ";}{print $1;}' | xargs printf "%x")

